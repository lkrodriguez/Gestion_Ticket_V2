<!--
 model Tickets mas el nombre de la ruta para indicar que esta vista esta conectada con este Models
 -->

@model TicketViewModels
@{
    ViewBag.Title = "Actualizar";
}

<a href="@Url.Action("Index","Tickets")" style="color:black; font-size:30px ; float:right ">
    <i class="far fa-caret-square-left"></i>
</a>

<h2>Actualizar Ticket </h2>
<hr />


<!--Formulario con Razor-->
@using (Html.BeginForm("Actualizar", "Tickets", FormMethod.Post))
{
    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Numero De Ticket</label>
        @Html.TextBoxFor(m => m.Ticket.id, new { @class = "form-control", @required = "required", @readonly="readonly"  })
    </div>

    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Fecha De Creacion</label>
        @Html.TextBoxFor(m => m.Ticket.FechaGeneracion, new { @class = "form-control", @required = "required" })
    </div>


    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Estado</label>
        <select name="Ticket.IdEstado" class="form-control" required>
            <option value="">Seleccione....</option>
            @foreach (var estado in Model.Estados)
            {
                <option value="@estado.id" @(estado.id == Model.Ticket.idEstado ? "selected":"" ) >@estado.Nombre</option>
            }
        </select>
    </div>


    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Usuario</label>
        <select name="Ticket.IdUsuario" class="form-control" required>
            <option value="">Seleccione....</option>
            @foreach (var usuario in Model.Usuarios)
            {
                <option value="@usuario.id" @(usuario.id == Model.Ticket.idUsuario ? "selected":"" ) >@usuario.Nombres</option>
            }
        </select>

    </div>

    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Descripción</label>
        @Html.TextAreaFor(m => m.Ticket.Descripsion, new { @class = "form-control", @required = "required" })
    </div>

    <div class="form-group">
        <label for="exampleInputEmail1" class="form-label">Responsable</label>
        <select name="Ticket.IdResponsable" class="form-control" required>
            <option value="">Seleccione....</option>
            @foreach (var responsable in Model.Resposables)
            {
                <option value="@responsable.Id" @(responsable.Id == Model.Ticket.idResponsable ? "selected":"" ) >@responsable.Nombre</option>
            }
        </select>
    </div>

    <br />

    <div class="form-group">
        <input type="submit" name="name" value="Guardar" class="btn btn-outline-dark" />
    </div>
}